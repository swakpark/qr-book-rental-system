<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ë‚´ ëŒ€ì—¬ ëª©ë¡</title>
    <style>
        body{font-family:system-ui;background:#f5f6f8;margin:0;padding:20px;}
        .wrap{max-width:420px;margin:0 auto;}
        .card{
            background:#fff;border-radius:14px;padding:16px;margin-bottom:14px;
            box-shadow:0 8px 24px rgba(0,0,0,.06);
        }
        .page-header {
            position: sticky;
            top: 0;
            background: #ffffff;
            z-index: 100;
            padding: 12px 16px;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .back-btn {
            text-decoration: none;
            font-size: 14px;
            color: #2563eb;
            font-weight: bold;
        }
        .page-header h2 {
            margin: 0;
            font-size: 18px;
        }

        .title{font-weight:700;}
        .muted{color:#666;font-size:14px;margin-top:4px;}
        .btn{display:inline-block;margin-top:10px;color:#2563eb;font-size:14px;}

        .status {
            margin-top:8px;
            font-size:14px;
            font-weight:600;
        }

        .safe { color:#6b7280; }
        .warn { color:#f59e0b; }
        .danger { color:#ef4444; }
        .over { color:#b91c1c; font-weight:700; }

        .return-guide {
            margin-top:10px;
            font-size:13px;
            color:#555;
            line-height:1.5;
        }
    </style>
</head>
<body>
<div class="wrap">

    <div class="page-header">
        <h2>ğŸ“„ ë‚´ ëŒ€ì—¬ ëª©ë¡</h2>
        <a th:href="@{/qr/entry}" class="back-btn">â† í™ˆ í™”ë©´</a>
    </div>

    <div th:if="${#lists.isEmpty(loanViews)}" class="muted">
        í˜„ì¬ ëŒ€ì—¬ ì¤‘ì¸ ë„ì„œê°€ ì—†ìŠµë‹ˆë‹¤.
    </div>

    <div th:each="loan : ${loanViews}" class="card">
        <div class="title" th:text="${loan.title}"></div>
        <div class="muted">ì €ì: <span th:text="${loan.author}"></span></div>
        <div class="muted">
            ë°˜ë‚© ê¸°í•œ: <b th:text="${loan.dueDate}"></b>
        </div>

        <!-- ìƒíƒœ ì¤‘ì‹¬ UX (ìˆ«ì ë…¸ì¶œ ì—†ìŒ) -->
        <div th:if="${loan.daysLeft < 0}" class="status over">
            ğŸš¨ ì—°ì²´ ì¤‘ â€“ ì¦‰ì‹œ ë°˜ë‚© í•„ìš”
        </div>

        <div th:if="${loan.daysLeft == 0}" class="status danger">
            â° ì˜¤ëŠ˜ê¹Œì§€ ë°˜ë‚©
        </div>

        <div th:if="${loan.daysLeft > 0 and loan.daysLeft <= 3}" class="status warn">
            âš ï¸ ë°˜ë‚© ì„ë°•
        </div>

        <div th:if="${loan.daysLeft > 3}" class="status safe">
            âœ… ëŒ€ì—¬ ì¤‘
        </div>

        <div class="return-guide">
            <strong>ğŸ“¦ ë°˜ë‚© ë°©ë²•</strong><br>
            - ë„ì„œê´€ ë°©ë¬¸ í›„ <b>ì‹¤ì œ ì±…ì˜ QR ì½”ë“œë¥¼ ìŠ¤ìº”</b>í•´ ì£¼ì„¸ìš”<br>
            - ë³´ì•ˆìƒ ì˜¨ë¼ì¸ ì§ì ‘ ë°˜ë‚©ì€ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤
        </div>
    </div>

</div>
</body>
</html>
