<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ë‚´ ë¬¸ì˜ ë‚´ì—­</title>
    <style>
        .page-header {
            position: sticky;
            top: 0;
            background: #ffffff;
            z-index: 100;
            padding: 12px 16px;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .back-btn {
            text-decoration: none;
            font-size: 14px;
            color: #2563eb;
            font-weight: bold;
        }
        .page-header h2 {
            margin: 0;
            font-size: 18px;
        }
        .inquiry-card {
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
            background: #ffffff;
        }
        .message-box {
            background: #f9fafb;
            padding: 12px;
            border-radius: 8px;
            margin: 8px 0 12px 0;
            line-height: 1.6;
        }
        .status-line {
            margin-top: 8px;
            margin-bottom: 8px;
        }
        .status-waiting {
            color: #ca8a04;
            font-weight: bold;
        }
        .status-done {
            color: #16a34a;
            font-weight: bold;
        }
    </style>
</head>
<body>

<div class="page-header">
    <a th:href="@{/qr/entry}" class="back-btn">â† í™ˆìœ¼ë¡œ</a>
    <h2>ğŸ“¬ ë‚´ ë¬¸ì˜ ë‚´ì—­</h2>
</div>

<div class="container">

    <div th:if="${#lists.isEmpty(inquiries)}" class="card">
        ì•„ì§ ë¬¸ì˜í•œ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.
    </div>

    <div th:each="inq : ${inquiries}" class="card inquiry-card">

        <p><b>ë¬¸ì˜ ë‚´ìš©</b></p>
        <div class="message-box" th:text="${inq.message}"></div>

        <div th:if="${inq.overdue}"
             style="background:#fee2e2; padding:8px;">
            âš ï¸ ì—°ì²´
            (<span th:text="${inq.overdueDays}"></span>ì¼ /
            <span th:text="${inq.penaltyAmount}"></span>ì›)
        </div>

        <p class="status-line">
            ìƒíƒœ:
            <span th:if="${!inq.resolved}" class="status-waiting">
                â³ ë‹µë³€ ëŒ€ê¸°ì¤‘
            </span>

            <span th:if="${inq.resolved}" class="status-done">
                âœ… ë‹µë³€ ì™„ë£Œ
            </span>
        </p>

        <div th:if="${inq.adminReply != null}"
             style="border-left:4px solid #22c55e; padding:10px; background:#f8fafc; margin-top:10px;">
            <b>ğŸ“¢ ê´€ë¦¬ì ë‹µë³€</b>
            <p th:text="${inq.adminReply}"></p>
            <small th:text="${#temporals.format(inq.resolvedAt, 'yyyy-MM-dd HH:mm')}"></small>
        </div>
    </div>
</div>


</body>
</html>
